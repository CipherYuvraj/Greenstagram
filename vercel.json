{
  "version": 2,
  "projects": [
    {
      "name": "greenstagram-frontend",
      "source": "frontend",
      "framework": "vite",
      "buildCommand": "npm run build",
      "outputDirectory": "build",
      "installCommand": "npm install",
      "devCommand": "npm run dev",
      "env": {
        "VITE_API_URL": "@api_url",
        "VITE_APP_ENV": "@app_env"
      }
    },
    {
      "name": "greenstagram-backend", 
      "source": "backend",
      "runtime": "nodejs18.x",
      "buildCommand": "npm run build",
      "installCommand": "npm install",
      "functions": {
        "backend/dist/**/*.js": {
          "runtime": "nodejs18.x"
        }
      },
      "env": {
        "NODE_ENV": "@node_env",
        "MONGODB_URI": "@mongodb_uri",
        "JWT_SECRET": "@jwt_secret",
        "AZURE_CLIENT_ID": "@azure_client_id",
        "AZURE_CLIENT_SECRET": "@azure_client_secret",
        "AZURE_TENANT_ID": "@azure_tenant_id",
        "REDIS_URL": "@redis_url"
      }
    }
  ],
  "build": {
    "env": {
      "NODE_VERSION": "18"
    }
  }
}